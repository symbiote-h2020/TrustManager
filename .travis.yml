language: java
env:
  global:
  - GITHUB_REPO=symbiote-h2020/TrustManager
jdk:
- oraclejdk8
services:
- mongodb
- rabbitmq
sudo: required
branches:
  only:
  - staging
install: true
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_script:
- chmod a+x merge_script.sh
- "./merge_script.sh"
script:
- gradle check --refresh-dependencies
after_success:
- chmod a+x pushing_script.sh
- "./pushing_script.sh"
- bash <(curl -s https://codecov.io/bash)
notifications:
  email:
    on_success: never
    on_failure: always
dd:
  secure: Lxszo2MdZX13RAV81Wm4oPknDkxqkdt5dBm11urqvS6Pv41BpWzaUBw41w2Vy3rZ5kzZShiACXYx9OZSxX4SkZkDXI4s01HKwRNp5tNXc7f8Diucle/rPC+FyO9+IGydfNE9CSEoi6tNy5VEHQXw1xzFr/sfsKTKB96GCr0yCw2GPWHcjfBh6DaXDTuwDYxmjvj5VdPUrOC8zYEAATJsXV4qQCnG8Cm+ncdpcZihoVN2C2882zuolDZN0khIq18XJhSNXFHMIOEC4Soux4hThzx9MU2knONhtUvTUFnxQASmzBONptt1Jo48C9ynjFzIBamcrc1Z648nXahjayJN+GVbST+b/Ovtk3HedxWgEC/NLqB4WVEg/Eh1+RNddSUibPFmpLDUhJuas3Syu7Sf5M20wDtdw66DLEZkaJQFJ917ghXNIhPyiV3MVqhA1EnPuM4tXOhpMxPi4LiSY7mgOVPO5aG/m3eoZkPf/7lqqNVHjLp5v8gcS7E7FzACbvHP8m4q0bS7fU5MRsNW5LhsywKaWpeCiRXDhZ72ORCY2RJVuFlgOoNgmhQYoY3Gz8g5zUYs70zT4Q08uQpnyt5mrIDXVj3z9YMcEpOS5h3kkeBgq0iTHx5RVOJwFeBCbAvhm3aNAFpCtkoJqUUR02rKd77RJuvIjSBmNV+zKjugXXs=
